<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo OSI - Protocolos TCP y UDP</title>
    <style>
        :root {
            --capa1: #FF6B6B;
            --capa2: #FF9E6B;
            --capa3: #FFD166;
            --capa4: #06D6A0;
            --capa5: #118AB2;
            --capa6: #073B4C;
            --capa7: #8338EC;
            --tcp: #2ecc71;
            --udp: #e74c3c;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        .protocol-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
            gap: 10px;
        }
        
        .protocol-btn {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .protocol-btn:hover {
            background-color: #2980b9;
        }
        
        .protocol-btn.active {
            background-color: #2c3e50;
        }
        
        .protocol-btn.tcp {
            border-left: 4px solid var(--tcp);
        }
        
        .protocol-btn.udp {
            border-left: 4px solid var(--udp);
        }
        
        .animation-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .device {
            width: 200px;
            text-align: center;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .device-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .osi-layers {
            display: flex;
            flex-direction: column;
            width: 60%;
        }
        
        .layer {
            padding: 15px;
            margin-bottom: 5px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            position: relative;
            transition: all 0.5s;
        }
        
        .data-flow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .data-packet {
            background-color: white;
            color: #333;
            padding: 5px 10px;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            font-size: 12px;
            max-width: 80%;
            text-align: center;
        }
        
        .protocol-info {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .protocol-details {
            display: none;
        }
        
        .protocol-details.active {
            display: block;
        }
        
        .protocol-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .transport-badge {
            padding: 5px 10px;
            border-radius: 20px;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .transport-tcp {
            background-color: var(--tcp);
        }
        
        .transport-udp {
            background-color: var(--udp);
        }
        
        .application-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .app-icon {
            font-size: 24px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-btn {
            padding: 10px 20px;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .control-btn:hover {
            background-color: #27ae60;
        }
        
        .control-btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
        }
        
        .layer-details {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .layer-card {
            flex: 1;
            min-width: 200px;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .layer-card h3 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px solid;
        }
        
        .protocol-list {
            list-style-type: none;
            padding: 0;
        }
        
        .protocol-list li {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .transport-comparison {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .transport-card {
            flex: 1;
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .transport-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Modelo OSI - Protocolos TCP y UDP</h1>
        
        <div class="protocol-selector">
            <button class="protocol-btn tcp active" data-protocol="https">HTTPS</button>
            <button class="protocol-btn tcp" data-protocol="smtp">SMTP</button>
            <button class="protocol-btn tcp" data-protocol="ftp">FTP</button>
            <button class="protocol-btn udp" data-protocol="dns">DNS</button>
            <button class="protocol-btn udp" data-protocol="dhcp">DHCP</button>
            <button class="protocol-btn udp" data-protocol="tftp">TFTP</button>
            <button class="protocol-btn udp" data-protocol="voip">VoIP (SIP/RTP)</button>
        </div>
        
        <div class="animation-container">
            <div class="device">
                <div class="device-icon">üíª</div>
                <h3>Estaci√≥n de Trabajo</h3>
                <div id="client-app">Chrome</div>
            </div>
            
            <div class="osi-layers">
                <div class="layer" style="background-color: var(--capa7);">
                    <span>Capa 7: Aplicaci√≥n</span>
                    <div class="data-flow">
                        <div class="data-packet" id="app-data">Datos de Usuario</div>
                    </div>
                </div>
                <div class="layer" style="background-color: var(--capa6);">
                    <span>Capa 6: Presentaci√≥n</span>
                    <div class="data-flow">
                        <div class="data-packet" id="presentation-data">Datos Encriptados/Comprimidos</div>
                    </div>
                </div>
                <div class="layer" style="background-color: var(--capa5);">
                    <span>Capa 5: Sesi√≥n</span>
                    <div class="data-flow">
                        <div class="data-packet" id="session-data">Sesi√≥n Establecida</div>
                    </div>
                </div>
                <div class="layer" style="background-color: var(--capa4);">
                    <span>Capa 4: Transporte</span>
                    <div class="data-flow">
                        <div class="data-packet" id="transport-data">Segmentos TCP/UDP</div>
                    </div>
                </div>
                <div class="layer" style="background-color: var(--capa3);">
                    <span>Capa 3: Red</span>
                    <div class="data-flow">
                        <div class="data-packet" id="network-data">Paquetes IP</div>
                    </div>
                </div>
                <div class="layer" style="background-color: var(--capa2);">
                    <span>Capa 2: Enlace de Datos</span>
                    <div class="data-flow">
                        <div class="data-packet" id="datalink-data">Tramas Ethernet</div>
                    </div>
                </div>
                <div class="layer" style="background-color: var(--capa1);">
                    <span>Capa 1: F√≠sica</span>
                    <div class="data-flow">
                        <div class="data-packet" id="physical-data">Bits</div>
                    </div>
                </div>
            </div>
            
            <div class="device">
                <div class="device-icon">üåê</div>
                <h3>Servidor/Destino</h3>
                <div id="server-app">Servidor Web</div>
            </div>
        </div>
        
        <div class="controls">
            <button class="control-btn" id="start-btn">Iniciar Comunicaci√≥n</button>
            <button class="control-btn" id="reset-btn" disabled>Reiniciar</button>
        </div>
        
        <div class="protocol-info">
            <div class="protocol-details active" id="https-details">
                <div class="protocol-header">
                    <h3>HTTPS (HTTP Secure)</h3>
                    <span class="transport-badge transport-tcp">TCP</span>
                </div>
                <p>Protocolo seguro de transferencia de hipertexto que utiliza cifrado SSL/TLS para proteger la comunicaci√≥n.</p>
                
                <div class="application-info">
                    <span class="app-icon">üåê</span>
                    <span><strong>Aplicaci√≥n:</strong> Navegadores web (Chrome, Firefox, Edge)</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> HTTP - Solicitudes y respuestas web</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> SSL/TLS - Cifrado y autenticaci√≥n</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Establecimiento y mantenimiento de sesiones seguras</li>
                    <li><strong>Capa 4 (Transporte):</strong> TCP - Conexi√≥n confiable puerto 443</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento l√≥gico</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Direccionamiento f√≠sico</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
            
            <div class="protocol-details" id="smtp-details">
                <div class="protocol-header">
                    <h3>SMTP (Simple Mail Transfer Protocol)</h3>
                    <span class="transport-badge transport-tcp">TCP</span>
                </div>
                <p>Protocolo para la transferencia de correo electr√≥nico entre servidores.</p>
                
                <div class="application-info">
                    <span class="app-icon">üìß</span>
                    <span><strong>Aplicaci√≥n:</strong> Clientes de correo (Outlook, Thunderbird), Servidores de correo</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> SMTP - Comandos de correo electr√≥nico</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> MIME - Codificaci√≥n de archivos adjuntos</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Control de sesi√≥n de correo</li>
                    <li><strong>Capa 4 (Transporte):</strong> TCP - Conexi√≥n confiable puerto 25</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento l√≥gico</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Direccionamiento f√≠sico</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
            
            <div class="protocol-details" id="ftp-details">
                <div class="protocol-header">
                    <h3>FTP (File Transfer Protocol)</h3>
                    <span class="transport-badge transport-tcp">TCP</span>
                </div>
                <p>Protocolo para la transferencia de archivos entre un cliente y un servidor.</p>
                
                <div class="application-info">
                    <span class="app-icon">üìÅ</span>
                    <span><strong>Aplicaci√≥n:</strong> FileZilla, WinSCP, navegadores web</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> FTP - Comandos de transferencia de archivos</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> Representaci√≥n de datos</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Control de sesi√≥n (canal de control y datos)</li>
                    <li><strong>Capa 4 (Transporte):</strong> TCP - Conexiones en puertos 20 (datos) y 21 (control)</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento l√≥gico</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Direccionamiento f√≠sico</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
            
            <div class="protocol-details" id="dns-details">
                <div class="protocol-header">
                    <h3>DNS (Domain Name System)</h3>
                    <span class="transport-badge transport-udp">UDP</span>
                </div>
                <p>Sistema de nomenclatura que traduce nombres de dominio a direcciones IP.</p>
                
                <div class="application-info">
                    <span class="app-icon">üîç</span>
                    <span><strong>Aplicaci√≥n:</strong> Resolvedores DNS, navegadores web, sistema operativo</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> DNS - Consultas y respuestas de nombres</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> Estructura de datos DNS</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Sesiones de consulta/respuesta</li>
                    <li><strong>Capa 4 (Transporte):</strong> UDP - Comunicaci√≥n sin conexi√≥n puerto 53 (TCP para transferencias de zona)</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento l√≥gico</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Direccionamiento f√≠sico</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
            
            <div class="protocol-details" id="dhcp-details">
                <div class="protocol-header">
                    <h3>DHCP (Dynamic Host Configuration Protocol)</h3>
                    <span class="transport-badge transport-udp">UDP</span>
                </div>
                <p>Protocolo que asigna autom√°ticamente direcciones IP a dispositivos en una red.</p>
                
                <div class="application-info">
                    <span class="app-icon">üì°</span>
                    <span><strong>Aplicaci√≥n:</strong> Cliente DHCP del SO, servidores DHCP</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> DHCP - Mensajes de descubrimiento, oferta, solicitud, acknowledgment</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> Estructura de opciones DHCP</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Proceso de concesi√≥n de IP</li>
                    <li><strong>Capa 4 (Transporte):</strong> UDP - Puertos 67 (servidor) y 68 (cliente)</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento limitado (0.0.0.0 inicialmente)</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Broadcast/Multicast</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
            
            <div class="protocol-details" id="tftp-details">
                <div class="protocol-header">
                    <h3>TFTP (Trivial File Transfer Protocol)</h3>
                    <span class="transport-badge transport-udp">UDP</span>
                </div>
                <p>Protocolo simple para transferencia de archivos sin autenticaci√≥n, usado para booteo de dispositivos.</p>
                
                <div class="application-info">
                    <span class="app-icon">‚ö°</span>
                    <span><strong>Aplicaci√≥n:</strong> Dispositivos de red, sistemas de booteo, firmware updates</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> TFTP - Operaciones b√°sicas de archivo</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> Formato simple de datos</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Transferencia simple sin sesi√≥n compleja</li>
                    <li><strong>Capa 4 (Transporte):</strong> UDP - Puerto 69</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento l√≥gico</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Direccionamiento f√≠sico</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
            
            <div class="protocol-details" id="voip-details">
                <div class="protocol-header">
                    <h3>VoIP (Voz sobre IP)</h3>
                    <span class="transport-badge transport-udp">UDP</span>
                </div>
                <p>Transmisi√≥n de voz y multimedia sobre protocolo IP.</p>
                
                <div class="application-info">
                    <span class="app-icon">üìû</span>
                    <span><strong>Aplicaci√≥n:</strong> Skype, Zoom, WhatsApp calls, softphones</span>
                </div>
                
                <ul>
                    <li><strong>Capa 7 (Aplicaci√≥n):</strong> SIP - Se√±alizaci√≥n, RTP - Transporte de medios</li>
                    <li><strong>Capa 6 (Presentaci√≥n):</strong> C√≥decs de audio (G.711, G.729)</li>
                    <li><strong>Capa 5 (Sesi√≥n):</strong> Control de llamadas y sesiones</li>
                    <li><strong>Capa 4 (Transporte):</strong> UDP - Para voz en tiempo real (RTP), TCP para se√±alizaci√≥n (SIP)</li>
                    <li><strong>Capa 3 (Red):</strong> IP - Direccionamiento l√≥gico con QoS</li>
                    <li><strong>Capa 2 (Enlace):</strong> Ethernet - Priorizaci√≥n de tr√°fico</li>
                    <li><strong>Capa 1 (F√≠sica):</strong> Transmisi√≥n de bits por cable/inal√°mbrica</li>
                </ul>
            </div>
        </div>
        
        <div class="transport-comparison">
            <div class="transport-card">
                <h3><span style="color: var(--tcp);">‚óè</span> TCP (Transmission Control Protocol)</h3>
                <ul>
                    <li><strong>Orientado a conexi√≥n</strong> - Establece conexi√≥n antes de enviar datos</li>
                    <li><strong>Confiable</strong> - Confirmaci√≥n de recepci√≥n y retransmisi√≥n</li>
                    <li><strong>Control de flujo</strong> - Evita saturaci√≥n del receptor</li>
                    <li><strong>Control de congesti√≥n</strong> - Adapta velocidad de env√≠o</li>
                    <li><strong>Entrega ordenada</strong> - Los paquetes llegan en orden</li>
                    <li><strong>Ejemplos:</strong> HTTP/HTTPS, SMTP, FTP, SSH</li>
                </ul>
            </div>
            <div class="transport-card">
                <h3><span style="color: var(--udp);">‚óè</span> UDP (User Datagram Protocol)</h3>
                <ul>
                    <li><strong>Sin conexi√≥n</strong> - No establece conexi√≥n previa</li>
                    <li><strong>No confiable</strong> - Sin confirmaci√≥n de recepci√≥n</li>
                    <li><strong>Sin control de flujo</strong> - Env√≠a a m√°xima velocidad</li>
                    <li><strong>M√°s r√°pido</strong> - Menor overhead</li>
                    <li><strong>Sin orden</strong> - Los paquetes pueden llegar desordenados</li>
                    <li><strong>Ejemplos:</strong> DNS, DHCP, TFTP, VoIP, video streaming</li>
                </ul>
            </div>
        </div>
        
        <div class="layer-details">
            <div class="layer-card">
                <h3 style="border-color: var(--capa7);">Capa 7: Aplicaci√≥n</h3>
                <p>Interfaz entre el usuario y la red. Proporciona servicios de red a las aplicaciones.</p>
                <ul class="protocol-list">
                    <li>HTTP/HTTPS</li>
                    <li>SMTP, POP3, IMAP</li>
                    <li>FTP, TFTP</li>
                    <li>DNS, DHCP</li>
                    <li>SSH, Telnet</li>
                </ul>
            </div>
            <div class="layer-card">
                <h3 style="border-color: var(--capa6);">Capa 6: Presentaci√≥n</h3>
                <p>Formatea y cifra los datos para su transmisi√≥n. Conversi√≥n de formatos.</p>
                <ul class="protocol-list">
                    <li>SSL/TLS</li>
                    <li>MIME</li>
                    <li>JPEG, MPEG</li>
                    <li>ASCII, Unicode</li>
                </ul>
            </div>
            <div class="layer-card">
                <h3 style="border-color: var(--capa5);">Capa 5: Sesi√≥n</h3>
                <p>Establece, gestiona y finaliza sesiones entre aplicaciones.</p>
                <ul class="protocol-list">
                    <li>NetBIOS</li>
                    <li>RPC</li>
                    <li>PAP/CHAP</li>
                    <li>Sesiones FTP</li>
                </ul>
            </div>
            <div class="layer-card">
                <h3 style="border-color: var(--capa4);">Capa 4: Transporte</h3>
                <p>Gestiona la entrega de datos extremo a extremo. Control de flujo y errores.</p>
                <ul class="protocol-list">
                    <li>TCP</li>
                    <li>UDP</li>
                    <li>SCTP</li>
                </ul>
            </div>
            <div class="layer-card">
                <h3 style="border-color: var(--capa3);">Capa 3: Red</h3>
                <p>Direccionamiento l√≥gico y enrutamiento entre redes.</p>
                <ul class="protocol-list">
                    <li>IP (IPv4, IPv6)</li>
                    <li>ICMP</li>
                    <li>OSPF, BGP</li>
                    <li>ARP</li>
                </ul>
            </div>
            <div class="layer-card">
                <h3 style="border-color: var(--capa2);">Capa 2: Enlace</h3>
                <p>Direccionamiento f√≠sico y acceso al medio. Control de errores a nivel de trama.</p>
                <ul class="protocol-list">
                    <li>Ethernet</li>
                    <li>PPP</li>
                    <li>MAC</li>
                    <li>VLAN</li>
                </ul>
            </div>
            <div class="layer-card">
                <h3 style="border-color: var(--capa1);">Capa 1: F√≠sica</h3>
                <p>Transmisi√≥n de bits a trav√©s del medio f√≠sico. Especificaciones el√©ctricas y f√≠sicas.</p>
                <ul class="protocol-list">
                    <li>RJ45, USB</li>
                    <li>Wi-Fi (802.11)</li>
                    <li>Fibra √≥ptica</li>
                    <li>Cable coaxial</li>
                </ul>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa7);"></div>
                <span>Capa 7: Aplicaci√≥n</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa6);"></div>
                <span>Capa 6: Presentaci√≥n</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa5);"></div>
                <span>Capa 5: Sesi√≥n</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa4);"></div>
                <span>Capa 4: Transporte</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa3);"></div>
                <span>Capa 3: Red</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa2);"></div>
                <span>Capa 2: Enlace</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--capa1);"></div>
                <span>Capa 1: F√≠sica</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--tcp);"></div>
                <span>Protocolos TCP</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: var(--udp);"></div>
                <span>Protocolos UDP</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const protocolButtons = document.querySelectorAll('.protocol-btn');
            const protocolDetails = document.querySelectorAll('.protocol-details');
            const startBtn = document.getElementById('start-btn');
            const resetBtn = document.getElementById('reset-btn');
            const dataFlows = document.querySelectorAll('.data-flow');
            const layers = document.querySelectorAll('.layer');
            const clientApp = document.getElementById('client-app');
            const serverApp = document.getElementById('server-app');
            const dataPackets = {
                app: document.getElementById('app-data'),
                presentation: document.getElementById('presentation-data'),
                session: document.getElementById('session-data'),
                transport: document.getElementById('transport-data'),
                network: document.getElementById('network-data'),
                datalink: document.getElementById('datalink-data'),
                physical: document.getElementById('physical-data')
            };
            
            let currentProtocol = 'https';
            let animationInProgress = false;
            
            // Configuraci√≥n de protocolos
            const protocols = {
                https: {
                    name: 'HTTPS',
                    transport: 'TCP',
                    clientApp: 'Chrome',
                    serverApp: 'Servidor Web',
                    appData: 'Solicitud HTTP: GET /index.html',
                    presentationData: 'Datos cifrados con TLS 1.3',
                    sessionData: 'Sesi√≥n segura establecida',
                    transportData: 'Segmento TCP - Puerto 443',
                    networkData: 'Paquete IP - Destino: 192.168.1.100',
                    datalinkData: 'Trama Ethernet - MAC: 00:1A:2B:3C:4D:5E',
                    physicalData: 'Bits: 1010101010101010'
                },
                smtp: {
                    name: 'SMTP',
                    transport: 'TCP',
                    clientApp: 'Outlook',
                    serverApp: 'Servidor de Correo',
                    appData: 'Comando SMTP: MAIL FROM: <usuario@example.com>',
                    presentationData: 'MIME: Texto plano + adjunto',
                    sessionData: 'Sesi√≥n de correo activa',
                    transportData: 'Segmento TCP - Puerto 25',
                    networkData: 'Paquete IP - Destino: 10.0.0.5',
                    datalinkData: 'Trama Ethernet - MAC: 08:00:27:AB:CD:EF',
                    physicalData: 'Bits: 1100110011001100'
                },
                ftp: {
                    name: 'FTP',
                    transport: 'TCP',
                    clientApp: 'FileZilla',
                    serverApp: 'Servidor FTP',
                    appData: 'Comando FTP: RETR archivo.zip',
                    presentationData: 'Datos binarios',
                    sessionData: 'Sesi√≥n FTP (control + datos)',
                    transportData: 'Segmento TCP - Puerto 21 (control)',
                    networkData: 'Paquete IP - Destino: 172.16.1.10',
                    datalinkData: 'Trama Ethernet - MAC: 52:54:00:12:34:56',
                    physicalData: 'Bits: 1111000011110000'
                },
                dns: {
                    name: 'DNS',
                    transport: 'UDP',
                    clientApp: 'Resolvedor DNS',
                    serverApp: 'Servidor DNS',
                    appData: 'Consulta: www.ejemplo.com ‚Üí A?',
                    presentationData: 'Formato mensaje DNS',
                    sessionData: 'Consulta/Respuesta simple',
                    transportData: 'Datagrama UDP - Puerto 53',
                    networkData: 'Paquete IP - Destino: 8.8.8.8',
                    datalinkData: 'Trama Ethernet - MAC: 00:1B:44:11:3A:B7',
                    physicalData: 'Bits: 1010010110100101'
                },
                dhcp: {
                    name: 'DHCP',
                    transport: 'UDP',
                    clientApp: 'Cliente DHCP',
                    serverApp: 'Servidor DHCP',
                    appData: 'Mensaje DHCP: DISCOVER',
                    presentationData: 'Opciones DHCP',
                    sessionData: 'Proceso DORA (Discover, Offer, Request, Ack)',
                    transportData: 'Datagrama UDP - Puertos 67/68',
                    networkData: 'Paquete IP - Broadcast: 255.255.255.255',
                    datalinkData: 'Trama Ethernet - Broadcast: FF:FF:FF:FF:FF:FF',
                    physicalData: 'Bits: 1101100110110011'
                },
                tftp: {
                    name: 'TFTP',
                    transport: 'UDP',
                    clientApp: 'Cliente TFTP',
                    serverApp: 'Servidor TFTP',
                    appData: 'Solicitud: READ config.txt',
                    presentationData: 'Datos en bloques de 512 bytes',
                    sessionData: 'Transferencia simple',
                    transportData: 'Datagrama UDP - Puerto 69',
                    networkData: 'Paquete IP - Destino: 192.168.0.1',
                    datalinkData: 'Trama Ethernet - MAC: 00:50:56:C0:00:08',
                    physicalData: 'Bits: 1001100110011001'
                },
                voip: {
                    name: 'VoIP',
                    transport: 'UDP',
                    clientApp: 'Skype',
                    serverApp: 'Servidor SIP',
                    appData: 'Se√±alizaci√≥n SIP: INVITE',
                    presentationData: 'Audio codificado G.711',
                    sessionData: 'Sesi√≥n de llamada VoIP',
                    transportData: 'Datagrama UDP - RTP Puerto 16384',
                    networkData: 'Paquete IP con QoS - Destino: 203.0.113.1',
                    datalinkData: 'Trama Ethernet con prioridad',
                    physicalData: 'Bits: 0101011001010110'
                }
            };
            
            // Cambiar protocolo
            protocolButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (animationInProgress) return;
                    
                    protocolButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    protocolDetails.forEach(detail => detail.classList.remove('active'));
                    
                    currentProtocol = this.getAttribute('data-protocol');
                    document.getElementById(`${currentProtocol}-details`).classList.add('active');
                    
                    updateProtocolDisplay();
                });
            });
            
            function updateProtocolDisplay() {
                const protocol = protocols[currentProtocol];
                
                clientApp.textContent = protocol.clientApp;
                serverApp.textContent = protocol.serverApp;
                
                dataPackets.app.textContent = protocol.appData;
                dataPackets.presentation.textContent = protocol.presentationData;
                dataPackets.session.textContent = protocol.sessionData;
                dataPackets.transport.textContent = protocol.transportData;
                dataPackets.network.textContent = protocol.networkData;
                dataPackets.datalink.textContent = protocol.datalinkData;
                dataPackets.physical.textContent = protocol.physicalData;
            }
            
            // Iniciar animaci√≥n
            startBtn.addEventListener('click', function() {
                if (animationInProgress) return;
                
                animationInProgress = true;
                startBtn.disabled = true;
                resetBtn.disabled = false;
                
                // Animaci√≥n de ida (PC -> Servidor)
                animateDataFlow(0, 6, 'forward', function() {
                    // Peque√±a pausa para simular procesamiento en el servidor
                    setTimeout(function() {
                        // Animaci√≥n de vuelta (Servidor -> PC)
                        animateDataFlow(6, 0, 'backward', function() {
                            resetBtn.disabled = false;
                        });
                    }, 1000);
                });
            });
            
            // Reiniciar animaci√≥n
            resetBtn.addEventListener('click', function() {
                resetAnimation();
            });
            
            function animateDataFlow(startLayer, endLayer, direction, callback) {
                let currentLayer = startLayer;
                const step = direction === 'forward' ? 1 : -1;
                
                function animateNextLayer() {
                    if ((direction === 'forward' && currentLayer > endLayer) || 
                        (direction === 'backward' && currentLayer < endLayer)) {
                        if (callback) callback();
                        return;
                    }
                    
                    // Mostrar paquete de datos en la capa actual
                    dataFlows[currentLayer].style.opacity = '1';
                    
                    // Resaltar la capa actual
                    layers[currentLayer].style.transform = 'scale(1.05)';
                    layers[currentLayer].style.boxShadow = '0 0 10px rgba(0,0,0,0.3)';
                    
                    setTimeout(function() {
                        // Restaurar capa
                        layers[currentLayer].style.transform = 'scale(1)';
                        layers[currentLayer].style.boxShadow = 'none';
                        
                        // Ocultar paquete de datos
                        dataFlows[currentLayer].style.opacity = '0';
                        
                        currentLayer += step;
                        animateNextLayer();
                    }, 800);
                }
                
                animateNextLayer();
            }
            
            function resetAnimation() {
                animationInProgress = false;
                startBtn.disabled = false;
                resetBtn.disabled = true;
                
                dataFlows.forEach(flow => {
                    flow.style.opacity = '0';
                });
                
                layers.forEach(layer => {
                    layer.style.transform = 'scale(1)';
                    layer.style.boxShadow = 'none';
                });
            }
            
            // Inicializar con el primer protocolo
            updateProtocolDisplay();
        });
    </script>
</body>
</html>
